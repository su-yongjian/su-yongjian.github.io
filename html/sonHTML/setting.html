<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>设置</title>

    <script src="../../js/adaptive.js"></script>
    <script>
        window['adaptive'].desinWidth = 750;
        window['adaptive'].baseFont = 24;
        // window['adaptive'].maxWidth = 480;
        window['adaptive'].scaleType = 2;
        window['adaptive'].init();
    </script>
    <link rel="stylesheet" href="../../css/iconfont.css">
    <link rel="stylesheet" type="text/css" href="../../lib/mui/css/mui.min.css" />
    <link rel="stylesheet" type="text/css" href="../../css/index.css" />
</head>
<!--引JS-->
<script src="../../js/jquery-2.1.4.js"></script>
<script src="../../js/template.js"></script>

<body>
    <div class="setting-layout">

        <div class="setting-contain">
            <header id="header" class="mui-bar mui-bar-nav">
                <a onclick="javascript:'../mine.html'" class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
                <h1 class="mui-title">设置</h1>
            </header>
            <main>
                <div class="settingList">
                    <ul class="list">
                        <li>
                            <span>消息推送</span>
                            <!-- 开关打开状态，多了一个.mui-active类 -->
                            <div class="mui-switch mui-active">
                                <div class="mui-switch-handle"></div>
                            </div>
                        </li>
                        <li>
                            <span>清除图片缓存</span>
                        </li>
                        <li>
                            <span>当前版本</span>
                            <span class="versions fr">V1.0.0</span>
                        </li>
                        <li id="openShare">
                            <span>分享给好友</span>
                        </li>
                    </ul>
                    <!-- 选择分享弹层 -->
                    <div id="share" class="share-select">
                        <header>
                            <h2>分享到</h2>
                            <a id="closeBack" class="close" href="javascript:void(0)" title="关闭"></a>
                        </header>
                        <article id="shareBox" class="shareBox">
                            <ul id="shareList" class="share-list clearfix">
                                <li>
                                    <i class="WeChatFriend"></i>
                                    <span>微信好友</span>
                                </li>
                                <li>
                                    <i class="friendCircle"></i>
                                    <span>朋友圈</span>
                                </li>
                                <li>
                                    <i class="QQfriend"></i>
                                    <span>QQ好友</span>
                                </li>
                                <li>
                                    <i class="QQZone"></i>
                                    <span>QQ空间</span>
                                </li>
                                <li>
                                    <i class="sinaBlog"></i>
                                    <span>新浪微博</span>
                                </li>
                                <li>
                                    <i class="copyLink"></i>
                                    <span>复制链接</span>
                                </li>
                            </ul>
                        </article>
                    </div>
                </div>
                <!--遮罩层-->
                <div id="shareMask" class="share-mask"></div>
                <!-- 退出登陆 -->
                <div class="outLogin">退出登陆</div>
            </main>
        </div>
    </div>

</body>
<script src="../../lib/mui/js/mui.min.js"></script>
<script src="../../js/share.js"></script>
<script>
    mui.init({
        swipeBack: true //启用右滑关闭功能
    });
    mui('.mui-content .mui-switch').each(function () { //循环所有toggle
        //toggle.classList.contains('mui-active') 可识别该toggle的开关状态
        this.parentNode.querySelector('span').innerText = '状态：' + (this.classList.contains('mui-active') ?
            'true' : 'false');
        /**
         * toggle 事件监听
         */
        this.addEventListener('toggle', function (event) {
            //event.detail.isActive 可直接获取当前状态
            this.parentNode.querySelector('span').innerText = '状态：' + (event.detail.isActive ? 'true' :
                'false');
        });
    });


    (function () {
        var isIPhone = !!window.navigator.appVersion.match(/iphone/gi);
        if (isIPhone && devicePixelRatio === 2) {
            var testElem = document.createElement('div');
            testElem.style.border = '.5px solid transparent';
            document.body.appendChild(testElem);
            if (testElem.offsetHeight == 1) {
                document.querySelector('html').classList.add('hairlines');
            }
            document.body.removeChild(testElem);
        }
    })();
</script>

</html>